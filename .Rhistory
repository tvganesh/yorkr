team1
dir="./ipl/iplAllMatchesAllTeams"
# Create 2 filenames with both combinations of team1 and team2
d1 <-paste(team1,"-allMatchesAllTeams.RData",sep="")
fl1 <- paste(dir,"/",d1,sep="")
load(fl1)
# Create 2 filenames with both combinations of team1 and team2
d1 <-paste("allMatchesAllTeams-",team1,".RData",sep="")
fl1 <- paste(dir,"/",d1,sep="")
load(fl1)
# Create 2 filenames with both combinations of team1 and team2
d1 <-paste("allMatchesAllOpposition-",team1,".RData",sep="")
fl1 <- paste(dir,"/",d1,sep="")
load(fl1)
a <- select(matches,date,venue,winner,result)
b=distinct(a) #Get distinct rows
winLoss <- summarise(group_by(b,winner),count=n())
x <- winLoss$winner=="NA"
winLoss$winner <- as.character(winLoss$winner)
if(sum(x) !=0) {
winLoss[x,]$winner <-"NoResult"
}
plot.title <- paste("Number of wins in",team1," vs ",team2, " matches")
ggplot(winLoss, aes(x=winner, y=count, fill=winner))+
geom_bar(stat = "identity",position="dodge") +
xlab("Winner") + ylab("Numer of Wins") +
ggtitle(bquote(atop(.(plot.title),
atop(italic("Data source:http://cricsheet.org/"),""))))
plot.title <- paste("Number of wins of",team1,"against all teams in all  matches")
ggplot(winLoss, aes(x=winner, y=count, fill=winner))+
geom_bar(stat = "identity",position="dodge") +
xlab("Winner") + ylab("Numer of Wins") +
ggtitle(bquote(atop(.(plot.title),
atop(italic("Data source:http://cricsheet.org/"),""))))
plot.title <- paste("Number of wins in",team1," vs ",team2, " matches")
ggplot(winLoss, aes(x=winner, y=count, fill=winner))+
geom_bar(stat = "identity",position="dodge") +
xlab("Winner") + ylab("Numer of Wins") +
ggtitle(bquote(atop(.(plot.title),
atop(italic("Data source:http://cricsheet.org/"),""))))
# Create 2 filenames with both combinations of team1 and team2
d1 <-paste(team1,"-",team2,"-allMatches.RData",sep="")
dir=>"./ipl/iplMatches2Teams"
dir="./ipl/iplMatches2Teams"
fl1 <- paste(dir,"/",d1,sep="")
load(fl1)
a <- select(matches,date,venue,winner,result)
b=distinct(a) #Get distinct rows
winLoss <- summarise(group_by(b,winner),count=n())
x <- winLoss$winner=="NA"
winLoss$winner <- as.character(winLoss$winner)
if(sum(x) !=0) {
winLoss[x,]$winner <-"NoResult"
}
plot.title <- paste("Number of wins in",team1," vs ",team2, " matches")
ggplot(winLoss, aes(x=winner, y=count, fill=winner))+
geom_bar(stat = "identity",position="dodge") +
xlab("Winner") + ylab("Numer of Wins") +
ggtitle(bquote(atop(.(plot.title),
atop(italic("Data source:http://cricsheet.org/"),""))))
# Create 2 filenames with both combinations of team1 and team2
d1 <-paste("allMatchesAllOpposition-",team1,".RData",sep="")
fl1 <- paste(dir,"/",d1,sep="")
load(fl1)
# Create 2 filenames with both combinations of team1 and team2
d1 <-paste("allMatchesAllOpposition-",team1,".RData",sep="")
dir="./ipl/iplAllMatchesAllTeams"
# Create 2 filenames with both combinations of team1 and team2
d1 <-paste("allMatchesAllOpposition-",team1,".RData",sep="")
fl1 <- paste(dir,"/",d1,sep="")
load(fl1)
a <- select(matches,date,venue,winner,result)
b=distinct(a) #Get distinct rows
winLoss <- summarise(group_by(b,winner),count=n())
x <- winLoss$winner=="NA"
winLoss$winner <- as.character(winLoss$winner)
if(sum(x) !=0) {
winLoss[x,]$winner <-"NoResult"
}
plot.title <- paste("Number of wins of",team1,"against all teams in all  matches")
ggplot(winLoss, aes(x=winner, y=count, fill=winner))+
geom_bar(stat = "identity",position="dodge") +
xlab("Winner") + ylab("Numer of Wins") +
ggtitle(bquote(atop(.(plot.title),
atop(italic("Data source:http://cricsheet.org/"),"")))) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
setwd("~/backup/software/cricket-package/yorkrPackage/yorkr4Apr2021/yorkr")
library(yorkr)
setwd("~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-1")
shiny::runApp()
library(yorkr)
library(plotly)
library(dplyr)
library(ggplot2)
shiny::runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-1')
install.packages("ggthemes")
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-1')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-1')
ggplotly(ggplot(data=df,aes(x=batsman,y=runs,fill=nonStriker))+
geom_bar(data=df,stat="identity") +
xlab("Batmen") + ylab("Runs Scored") +
labs(title=plot.title,subtitle="Data source:http://cricsheet.org/") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)))  %>%
layout(title = list(text = paste0(plot.title,
'<br>',
'<sup>',
'Data source:http://cricsheet.org/',
'</sup>')))
g <- ggplot(data=df,aes(x=batsman,y=runs,fill=nonStriker))+
geom_bar(data=df,stat="identity") +
xlab("Batmen") + ylab("Runs Scored") +
labs(title=plot.title,subtitle="Data source:http://cricsheet.org/") +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
rlang::last_error()
dim(match())
dim(match)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-1')
setwd("~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-1/ipl/iplMatches")
load("~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-1/ipl/iplMatches/Chennai Super Kings-Deccan Chargers-2008-05-06.RData")
match=overs
a <-filter(match,team==theTeam)
# Group batsman with non strikers and compute partnerships
df <- data.frame(summarise(group_by(a,batsman,nonStriker),sum(runs)))
library(dplyr)
library(plotly)
a <-filter(match,team==theTeam)
theTeam="Chennai Super Kings"
a <-filter(match,team==theTeam)
# Group batsman with non strikers and compute partnerships
df <- data.frame(summarise(group_by(a,batsman,nonStriker),sum(runs)))
names(df) <- c("batsman","nonStriker","runs")
opposition="aaa"
plot.title <- paste(theTeam,"Batting partnership in match (vs.",opposition,")")
g <- ggplot(data=df,aes(x=batsman,y=runs,fill=nonStriker))+
geom_bar(data=df,stat="identity") +
xlab("Batmen") + ylab("Runs Scored") +
labs(title=plot.title,subtitle="Data source:http://cricsheet.org/") +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplotly(g )%>%
layout(title = list(text = paste0(plot.title,
'<br>',
'<sup>',
'Data source:http://cricsheet.org/',
'</sup>')))
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-1')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-1')
library(yorkr)
shiny::runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-3')
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-3')
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-3')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-3')
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-3')
convertAllYaml2RDataframesT20("ssm","ssmMenMatches","ssmWomenMatches")
setwd("~/Downloads")
convertAllYaml2RDataframesT20("ssm","ssmMenMatches","ssmWomenMatches")
library(yorkr)
convertAllYaml2RDataframesT20("ssm","ssmMenMatches","ssmWomenMatches")
setwd("~/backup/software/cricket-package/yorkrPackage/york16backup/yorkr")
shiny::runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-4')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-4')
getwd()
setwd("~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-4")
deployApp()
rsconnect::deployApp()
getwd()
rsconnect::deployApp()
library(yorkr)
setwd("~/backup/software/cricket-package/yorkr-cricsheet")
convertYaml2RDataframeT20("335982.yaml,"ipl,"iplMatches")
convertYaml2RDataframeT20("335982.yaml","ipl,"iplMatches")
convertYaml2RDataframeT20("335982.yaml","ipl","iplMatches")
setwd("~/backup/software/cricket-package/yorkrPackage/yorkr20Sep2021/yorkr")
setwd("..")
system("R CMD build yorkr")
system("R CMD check --as-cran yorkr_0.0.26.tar.gz")
system("R CMD check --force-multiarch yorkr_0.0.26.tar.gz")
shiny::runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
rsconnwct::deployApp()
getwd()
setwd("~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-6")
rsconnwct::deployApp()
rsconnect::deployApp()
installed.packages("yorkr")
install.packages("yorkr")
install.packages("yorkr")
library(yorkr)
rsconnect::deployApp()
rsconnect::deployApp()
shiny::runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
library(yorkr)
getwd()
setwd("~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7")
runApp()
runApp()
library(yorkr)
runApp()
runApp()
setwd("~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7")
runApp()
setwd("~/backup/software/cricket-package/yorkrPackage/yorkr20Sep2021/yorkr")
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
rsconnect::deployApp()
getwd()
setwd("~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-6")
rsconnect::deployApp()
install.packages("yorkr")
install.packages("yorkr")
library(yorkr)
rsconnect::deployApp()
rsconnect::deployApp()
rsconnect::deployApp()
shiny::runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
install.packages("yorkr")
install.packages("yorkr")
library(yorkr)
rsconnect::deployApp()
setwd("~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-6")
rsconnect::deployApp()
shiny::runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
install.packages("yorkr")
install.packages("yorkr")
shiny::runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
install.packages("yorkr")
library(yorkr)
setwd("~/Downloads")
source("T20Mutilities.R")
convertAllYaml2RDataframesT20("t20s","t20MenMatches","t20WomenMatches")
convertAllYaml2RDataframesT20
source("T20Mutilities.R")
convertAllYaml2RDataframesT20("t20s","t20MenMatches","t20WomenMatches")
sourceDir="t20s"
targetDirMen="t20sMenMatches"
targetDirWomen="t20WomenMatches"
files <- list.files(sourceDir)
print(length(files))
iii=1
pth = paste(sourceDir,"/",files[iii],sep="")
cat("i=",iii,"  file=",pth,"\n")
# Load yaml file
a <- yaml.load_file(pth)
install.packages("yaml")
install.packages("yaml")
library(yaml)
# Load yaml file
a <- yaml.load_file(pth)
# This is a temporary change.
# Removing elements of Players,Registry and balls per over from yaml file
a[[2]][[10]] <- NULL #Players
a[[2]][[10]] <- NULL #Registry
a[[2]][[1]] <- NULL  #balls per over
# Cast as data frame for easy processing
tryCatch(b <- as.data.frame(a),
error = function(e) {
print("Error!")
eFile <- files[iii]
errorFile <- paste(targetDirMen,"/","errors.txt",sep="")
write(eFile,errorFile,append=TRUE)
}
)
targetDirMen
> targetDirMen=t20MenMatches
targetDirMen=t20MenMatches
# Cast as data frame for easy processing
tryCatch(b <- as.data.frame(a),
error = function(e) {
print("Error!")
eFile <- files[iii]
errorFile <- paste(targetDirMen,"/","errors.txt",sep="")
write(eFile,errorFile,append=TRUE)
}
)
as.dataframe(a)
convertAllYaml2RDataframesT20("ipl","iplMatches")
source("IPLutilities.R")
source("IPLutilities.R")
convertAllYaml2RDataframesT20("ipl","iplMatches")
install.packages("yorkr")
library(yorkr)
convertAllYaml2RDataframesT20("ipl","iplMatches")
convertAllYaml2RDataframesT20("t20s","t20MenMatches","t20WomenMatches")
files <- list.files(sourceDir)
print(length(files))
iii=1
pth = paste(sourceDir,"/",files[iii],sep="")
cat("i=",iii,"  file=",pth,"\n")
# Load yaml file
a <- yaml.load_file(pth)
# This is a temporary change.
# Removing elements of Players,Registry and balls per over from yaml file
a[[2]][[10]] <- NULL #Players
a[[2]][[10]] <- NULL #Registry
a[[2]][[1]] <- NULL  #balls per over
# This is a temporary change.
# Removing elements of Players,Registry and balls per over from yaml file
a[[2]][[10]] <- NULL #Players
a[[2]][[10]] <- NULL #Registry
a[[2]][[1]] <- NULL  #balls per over
# Load yaml file
a <- yaml.load_file(pth)
pth
pth1="ipl/335982.yaml"
# Load yaml file
a <- yaml.load_file(pth)
a[[2]]
# This is a temporary change.
# Removing elements of Players,Registry and balls per over from yaml file
a[[2]][[10]] <- NULL #Players
a[[2]][[10]] <- NULL #Registry
a[[2]][[1]] <- NULL  #balls per over
b <- yaml_load(pth1)
pth1
pth
b=yaml.load_file(pth1)
b=yaml.load_file(pth1)
# This is a temporary change.
# Removing elements of Players,Registry and balls per over from yaml file
a[[2]][['players']] <- NULL #Players
a[[2]][['registry']] <- NULL #Registry
a[[2]][['balls_per_over']] <- NULL  #balls per over
setwd("~/backup/software/cricket-package/yorkrPackage/yorkr20Sep2021/yorkr")
library(yorkr)
source("IPLutilities.R")
setwd("~/Downloads")
convertAllYaml2RDataframesT20("ipl","iplMatches")
source("T20Wutilities.R")
convertAllYaml2RDataframesT20("t20s","t20MenMatches","t20WomenMatches")
saveAllMatchesBetweenTeams("t20MenMatches","t20Matches2Teams")
saveAllMatchesAllOpposition("t20MenMatches","t20AllMatchesAllTeams")
getT20BattingDetails("t20MenMatches","t20BattingBowlingDetails")
getT20BowlingDetails("t20MenMatches","t20BattingBowlingDetails")
getT20MBatsmen("t20BattingBowlingDetails")
getT20MBowlers("t20BattingBowlingDetails")
#Women
source("T20Wutilities.R")
#convertAllYaml2RDataframesT20("t20s","t20MenMatches","t20WomenMatches")
saveAllMatchesBetweenTeams("t20WomenMatches","t20WomenMatches2Teams")
saveAllMatchesAllOpposition("t20WomenMatches","t20WomenAllMatchesAllTeams")
getT20BattingDetails("t20WomenMatches","t20WomenBattingBowlingDetails")
getT20BowlingDetails("t20WomenMatches","t20WomenBattingBowlingDetails")
getT20WBatsmen("t20BattingBowlingDetails")
getT20WBowlers("t20BattingBowlingDetails")
shiny::runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
library(yorkr)
teamWicketsAcrossOvers(match,t1,t2)
t1="Afghanistan"
t2="Scotland"
load("/Users/tvganesh/Downloads/gpp2021-8/t20/t20MenMatches/Afghanistan-Scotland-2021-10-25.RData")
match=overs
library(dplyr)
library(ggplot2)
library(stringr)
library(plotly)
teamWicketsAcrossOvers(match,t1,t2)
library(yorkr)
# Filter the performance of team1
a <-filter(match,team==t1)
# Power play
a1 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 0.1, 5.9))
a2 <- select(a1,team,wicketPlayerOut)
library(dplyr)
library(ggplot2)
library(stringr)
library(plotly)
# Filter the performance of team1
a <-filter(match,team==t1)
# Power play
a1 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 0.1, 5.9))
a2 <- select(a1,team,wicketPlayerOut)
a3 <- a2 %>% filter(wicketPlayerOut != "nobody") %>% mutate(wickets =n())
a3$opposition=t2
a3wickets=ifelse(!is.na(a3$wickets[1]), a3$wickets[1], 0)
if(!is.na(a3$wickets[1])){
a3$type="1-Power Play"
}
# Middle overs I
b1 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 6.1, 15.9))
b2 <- select(b1,team,wicketPlayerOut)
b3 <- b2 %>% filter(wicketPlayerOut != "nobody") %>% mutate(wickets =n())
b3wickets=ifelse(!is.na(b3$wickets[1]), b3$wickets[1], 0)
b3$opposition=t2
if(!is.na(b3$wickets[1])){
b3$type="2-Middle Overs"
}
#Midle overs 2
c1 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 16.1, 20.0))
c2 <- select(c1,team,wicketPlayerOut)
c3 <- c2 %>% filter(wicketPlayerOut != "nobody") %>% mutate(wickets =n())
c3wickets=ifelse(!is.na(c3$wickets[1]), c3$wickets[1], 0)
c3$opposition=t2
if(!is.na(c3$wickets[1])){
c3$type="3-Death Overs"
}
####################
# Filter the performance of team2
a <-filter(match,team==t2)
# Power play
a11 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 0.1, 5.9))
a21 <- select(a11,team,wicketPlayerOut)
a31 <- a21 %>% filter(wicketPlayerOut != "nobody") %>% mutate(wickets =n())
a31wickets=ifelse(!is.na(a31$wickets[1]), a31$wickets[1], 0)
a31$opposition=t1
if(!is.na(a31$wickets[1]))
a31$type="1-Power Play"
b11 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 6.1, 15.9))
b21 <- select(b11,team,wicketPlayerOut)
b31 <- b21 %>% filter(wicketPlayerOut != "nobody") %>% mutate(wickets =n())
b31wickets=ifelse(!is.na(b31$wickets[1]), b31$wickets[1], 0)
b31$opposition=t1
if(!is.na(b31$wickets[1]))
b31$type="2-Middle Overs"
#Midle overs 2
c11 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 16.1, 20.0))
c21 <- select(c11,team,wicketPlayerOut)
c31 <- c21 %>% filter(wicketPlayerOut != "nobody") %>% mutate(wickets =n())
c31wickets=ifelse(!is.na(c31$wickets[1]), c31$wickets[1], 0)
c31$opposition=t1
if(!is.na(c31$wickets[1]))
c31$opposition=t1
if(!is.na(c31$wickets[1]))
c31$type="3-Death Overs"
m=rbind(a3,b3,c3,a31,b31,c31)
plot.title= paste("Wickets across 20 overs of ",t1, "and", t2, sep=" ")
# Plot both lines
if(plot ==1){ #ggplot2
plot.title= paste("Wickets across 20 overs of ",t1, "and", t2, sep=" ")
ggplot(m,aes(x=type, y=wickets, fill=opposition)) +
geom_bar(stat="identity", position = "dodge") +
ggtitle(bquote(atop(.(plot.title),
atop(italic("Data source:http://cricsheet.org/"),""))))
}else { #ggplotly
g <-       ggplot(m,aes(x=type, y=wickets, fill=opposition)) +
geom_bar(stat="identity", position = "dodge") +
ggtitle(plot.title)
ggplotly(g)
}
#Midle overs 2
c11 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 16.1, 20.0))
c21 <- select(c11,team,wicketPlayerOut)
c31 <- c21 %>% filter(wicketPlayerOut != "nobody") %>% mutate(wickets =n())
c31wickets=ifelse(!is.na(c31$wickets[1]), c31$wickets[1], 0)
c31$opposition=t1
b31$opposition=t1
m=rbind(a3,b3,c3,a31,b31,c31)
plot.title= paste("Wickets across 20 overs of ",t1, "and", t2, sep=" ")
plot.title= paste("Wickets across 20 overs of ",t1, "and", t2, sep=" ")
ggplot(m,aes(x=type, y=wickets, fill=opposition)) +
geom_bar(stat="identity", position = "dodge") +
ggtitle(bquote(atop(.(plot.title),
atop(italic("Data source:http://cricsheet.org/"),""))))
teamWicketsAcrossOvers(match,t1,t2)
c31
is.na(c3$wickets)
View(c3)
View(c3)
View(c31)
cc31$wickets[1]
c31$wickets[1]
is.na(c31$wickets)
is.na(c31$wickets[1])
library(yorkr)
teamWicketsAcrossOvers(match,t1,t2)
teamWicketsAcrossOvers(match,t1,t2,plot=2)
