runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
rsconnect::deployApp()
getwd()
setwd("~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-6")
rsconnect::deployApp()
install.packages("yorkr")
install.packages("yorkr")
library(yorkr)
rsconnect::deployApp()
rsconnect::deployApp()
rsconnect::deployApp()
shiny::runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
install.packages("yorkr")
install.packages("yorkr")
library(yorkr)
rsconnect::deployApp()
setwd("~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-6")
rsconnect::deployApp()
shiny::runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
library(yorkr)
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
install.packages("yorkr")
install.packages("yorkr")
shiny::runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
install.packages("yorkr")
library(yorkr)
setwd("~/Downloads")
source("T20Mutilities.R")
convertAllYaml2RDataframesT20("t20s","t20MenMatches","t20WomenMatches")
convertAllYaml2RDataframesT20
source("T20Mutilities.R")
convertAllYaml2RDataframesT20("t20s","t20MenMatches","t20WomenMatches")
sourceDir="t20s"
targetDirMen="t20sMenMatches"
targetDirWomen="t20WomenMatches"
files <- list.files(sourceDir)
print(length(files))
iii=1
pth = paste(sourceDir,"/",files[iii],sep="")
cat("i=",iii,"  file=",pth,"\n")
# Load yaml file
a <- yaml.load_file(pth)
install.packages("yaml")
install.packages("yaml")
library(yaml)
# Load yaml file
a <- yaml.load_file(pth)
# This is a temporary change.
# Removing elements of Players,Registry and balls per over from yaml file
a[[2]][[10]] <- NULL #Players
a[[2]][[10]] <- NULL #Registry
a[[2]][[1]] <- NULL  #balls per over
# Cast as data frame for easy processing
tryCatch(b <- as.data.frame(a),
error = function(e) {
print("Error!")
eFile <- files[iii]
errorFile <- paste(targetDirMen,"/","errors.txt",sep="")
write(eFile,errorFile,append=TRUE)
}
)
targetDirMen
> targetDirMen=t20MenMatches
targetDirMen=t20MenMatches
# Cast as data frame for easy processing
tryCatch(b <- as.data.frame(a),
error = function(e) {
print("Error!")
eFile <- files[iii]
errorFile <- paste(targetDirMen,"/","errors.txt",sep="")
write(eFile,errorFile,append=TRUE)
}
)
as.dataframe(a)
convertAllYaml2RDataframesT20("ipl","iplMatches")
source("IPLutilities.R")
source("IPLutilities.R")
convertAllYaml2RDataframesT20("ipl","iplMatches")
install.packages("yorkr")
library(yorkr)
convertAllYaml2RDataframesT20("ipl","iplMatches")
convertAllYaml2RDataframesT20("t20s","t20MenMatches","t20WomenMatches")
files <- list.files(sourceDir)
print(length(files))
iii=1
pth = paste(sourceDir,"/",files[iii],sep="")
cat("i=",iii,"  file=",pth,"\n")
# Load yaml file
a <- yaml.load_file(pth)
# This is a temporary change.
# Removing elements of Players,Registry and balls per over from yaml file
a[[2]][[10]] <- NULL #Players
a[[2]][[10]] <- NULL #Registry
a[[2]][[1]] <- NULL  #balls per over
# This is a temporary change.
# Removing elements of Players,Registry and balls per over from yaml file
a[[2]][[10]] <- NULL #Players
a[[2]][[10]] <- NULL #Registry
a[[2]][[1]] <- NULL  #balls per over
# Load yaml file
a <- yaml.load_file(pth)
pth
pth1="ipl/335982.yaml"
# Load yaml file
a <- yaml.load_file(pth)
a[[2]]
# This is a temporary change.
# Removing elements of Players,Registry and balls per over from yaml file
a[[2]][[10]] <- NULL #Players
a[[2]][[10]] <- NULL #Registry
a[[2]][[1]] <- NULL  #balls per over
b <- yaml_load(pth1)
pth1
pth
b=yaml.load_file(pth1)
b=yaml.load_file(pth1)
# This is a temporary change.
# Removing elements of Players,Registry and balls per over from yaml file
a[[2]][['players']] <- NULL #Players
a[[2]][['registry']] <- NULL #Registry
a[[2]][['balls_per_over']] <- NULL  #balls per over
setwd("~/backup/software/cricket-package/yorkrPackage/yorkr20Sep2021/yorkr")
library(yorkr)
source("IPLutilities.R")
setwd("~/Downloads")
convertAllYaml2RDataframesT20("ipl","iplMatches")
source("T20Wutilities.R")
convertAllYaml2RDataframesT20("t20s","t20MenMatches","t20WomenMatches")
saveAllMatchesBetweenTeams("t20MenMatches","t20Matches2Teams")
saveAllMatchesAllOpposition("t20MenMatches","t20AllMatchesAllTeams")
getT20BattingDetails("t20MenMatches","t20BattingBowlingDetails")
getT20BowlingDetails("t20MenMatches","t20BattingBowlingDetails")
getT20MBatsmen("t20BattingBowlingDetails")
getT20MBowlers("t20BattingBowlingDetails")
#Women
source("T20Wutilities.R")
#convertAllYaml2RDataframesT20("t20s","t20MenMatches","t20WomenMatches")
saveAllMatchesBetweenTeams("t20WomenMatches","t20WomenMatches2Teams")
saveAllMatchesAllOpposition("t20WomenMatches","t20WomenAllMatchesAllTeams")
getT20BattingDetails("t20WomenMatches","t20WomenBattingBowlingDetails")
getT20BowlingDetails("t20WomenMatches","t20WomenBattingBowlingDetails")
getT20WBatsmen("t20BattingBowlingDetails")
getT20WBowlers("t20BattingBowlingDetails")
shiny::runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-7')
library(yorkr)
teamWicketsAcrossOvers(match,t1,t2)
t1="Afghanistan"
t2="Scotland"
load("/Users/tvganesh/Downloads/gpp2021-8/t20/t20MenMatches/Afghanistan-Scotland-2021-10-25.RData")
match=overs
library(dplyr)
library(ggplot2)
library(stringr)
library(plotly)
teamWicketsAcrossOvers(match,t1,t2)
library(yorkr)
# Filter the performance of team1
a <-filter(match,team==t1)
# Power play
a1 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 0.1, 5.9))
a2 <- select(a1,team,wicketPlayerOut)
library(dplyr)
library(ggplot2)
library(stringr)
library(plotly)
# Filter the performance of team1
a <-filter(match,team==t1)
# Power play
a1 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 0.1, 5.9))
a2 <- select(a1,team,wicketPlayerOut)
a3 <- a2 %>% filter(wicketPlayerOut != "nobody") %>% mutate(wickets =n())
a3$opposition=t2
a3wickets=ifelse(!is.na(a3$wickets[1]), a3$wickets[1], 0)
if(!is.na(a3$wickets[1])){
a3$type="1-Power Play"
}
# Middle overs I
b1 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 6.1, 15.9))
b2 <- select(b1,team,wicketPlayerOut)
b3 <- b2 %>% filter(wicketPlayerOut != "nobody") %>% mutate(wickets =n())
b3wickets=ifelse(!is.na(b3$wickets[1]), b3$wickets[1], 0)
b3$opposition=t2
if(!is.na(b3$wickets[1])){
b3$type="2-Middle Overs"
}
#Midle overs 2
c1 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 16.1, 20.0))
c2 <- select(c1,team,wicketPlayerOut)
c3 <- c2 %>% filter(wicketPlayerOut != "nobody") %>% mutate(wickets =n())
c3wickets=ifelse(!is.na(c3$wickets[1]), c3$wickets[1], 0)
c3$opposition=t2
if(!is.na(c3$wickets[1])){
c3$type="3-Death Overs"
}
####################
# Filter the performance of team2
a <-filter(match,team==t2)
# Power play
a11 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 0.1, 5.9))
a21 <- select(a11,team,wicketPlayerOut)
a31 <- a21 %>% filter(wicketPlayerOut != "nobody") %>% mutate(wickets =n())
a31wickets=ifelse(!is.na(a31$wickets[1]), a31$wickets[1], 0)
a31$opposition=t1
if(!is.na(a31$wickets[1]))
a31$type="1-Power Play"
b11 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 6.1, 15.9))
b21 <- select(b11,team,wicketPlayerOut)
b31 <- b21 %>% filter(wicketPlayerOut != "nobody") %>% mutate(wickets =n())
b31wickets=ifelse(!is.na(b31$wickets[1]), b31$wickets[1], 0)
b31$opposition=t1
if(!is.na(b31$wickets[1]))
b31$type="2-Middle Overs"
#Midle overs 2
c11 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 16.1, 20.0))
c21 <- select(c11,team,wicketPlayerOut)
c31 <- c21 %>% filter(wicketPlayerOut != "nobody") %>% mutate(wickets =n())
c31wickets=ifelse(!is.na(c31$wickets[1]), c31$wickets[1], 0)
c31$opposition=t1
if(!is.na(c31$wickets[1]))
c31$opposition=t1
if(!is.na(c31$wickets[1]))
c31$type="3-Death Overs"
m=rbind(a3,b3,c3,a31,b31,c31)
plot.title= paste("Wickets across 20 overs of ",t1, "and", t2, sep=" ")
# Plot both lines
if(plot ==1){ #ggplot2
plot.title= paste("Wickets across 20 overs of ",t1, "and", t2, sep=" ")
ggplot(m,aes(x=type, y=wickets, fill=opposition)) +
geom_bar(stat="identity", position = "dodge") +
ggtitle(bquote(atop(.(plot.title),
atop(italic("Data source:http://cricsheet.org/"),""))))
}else { #ggplotly
g <-       ggplot(m,aes(x=type, y=wickets, fill=opposition)) +
geom_bar(stat="identity", position = "dodge") +
ggtitle(plot.title)
ggplotly(g)
}
#Midle overs 2
c11 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 16.1, 20.0))
c21 <- select(c11,team,wicketPlayerOut)
c31 <- c21 %>% filter(wicketPlayerOut != "nobody") %>% mutate(wickets =n())
c31wickets=ifelse(!is.na(c31$wickets[1]), c31$wickets[1], 0)
c31$opposition=t1
b31$opposition=t1
m=rbind(a3,b3,c3,a31,b31,c31)
plot.title= paste("Wickets across 20 overs of ",t1, "and", t2, sep=" ")
plot.title= paste("Wickets across 20 overs of ",t1, "and", t2, sep=" ")
ggplot(m,aes(x=type, y=wickets, fill=opposition)) +
geom_bar(stat="identity", position = "dodge") +
ggtitle(bquote(atop(.(plot.title),
atop(italic("Data source:http://cricsheet.org/"),""))))
teamWicketsAcrossOvers(match,t1,t2)
c31
is.na(c3$wickets)
View(c3)
View(c3)
View(c31)
cc31$wickets[1]
c31$wickets[1]
is.na(c31$wickets)
is.na(c31$wickets[1])
library(yorkr)
teamWicketsAcrossOvers(match,t1,t2)
teamWicketsAcrossOvers(match,t1,t2,plot=2)
library(yorkr)
load("/Users/tvganesh/Downloads/gpp2021-8/t20/t20Matches2Teams/Australia-India-allMatches.RData")
t1="India"
t2="Australia"
teamERAcrossOversOppnAllMatches(matches,t1,t2)
library(dplyr)
library(ggplot2)
library(stringr)
library(plotly)
teamERAcrossOversOppnAllMatches(matches,t1,t2)
teamERAcrossOversOppnAllMatches(matches,t1,t2,plot=2)
library(yorkr)
load("/Users/tvganesh/Downloads/gpp2021-8/t20/t20AllMatchesAllTeams/allMatchesAllOpposition-India.RData")
library(yorkr)
teamRunsAcrossOversAllOppnAllMatches(matches,t1)
library(yorkr)
teamRunsAcrossOversAllOppnAllMatches(matches,t1)
library(yorkr)
teamSRAcrossOversAllOppnAllMatches(matches,t1)
teamSRAcrossOversAllOppnAllMatches(matches,t1,plot=2)
library(yorkr)
teamWicketsAcrossOversAllOppnAllMatches(matches,t1)
teamWicketsAcrossOversAllOppnAllMatches(matches,t1,plot=2)
library(yorkr)
teamERAcrossOversAllOppnAllMatches(matches,t1)
teamERAcrossOversAllOppnAllMatches(matches,t1,plot=2)
load("/Users/tvganesh/Downloads/gpp2021-8/t20/t20AllMatchesAllTeams/allMatchesAllOpposition-Scotland.RData")
teamRunsAcrossOversAllOppnAllMatches(matches,"Scotland")
teamRunsAcrossOversAllOppnAllMatches(matches,"India")
teamRunsAcrossOversAllOppnAllMatches(matches,"Scotland")
teamRunsAcrossOversAllOppnAllMatches(matches,"Scotland",plot=2)
load("/Users/tvganesh/Downloads/gpp2021-8/t20/t20AllMatchesAllTeams/allMatchesAllOpposition-India.RData")
teamRunsAcrossOversAllOppnAllMatches(matches,"India",plot=2)
library(yorkr)
load("/Users/tvganesh/Downloads/gpp2021-8/t20/t20Matches2Teams/Australia-England-allMatches.RData")
teamTopRunsBatsmenOppnAllMatches(matches,"England","Australia")
library(dplyr)
library(ggplot2)
library(stringr)
library(plotly)
teamTopRunsBatsmenOppnAllMatches(matches,"England","Australia")
library(yorkr)
teamTopRunsBatsmenOppnAllMatches(matches,"England","Australia")
library(yorkr)
library(yorkr)
teamTopRunsBatsmenOppnAllMatches(matches,"England")
teamTopRunsBatsmenOppnAllMatches(matches,"Australia")
library(yorkr)
teamTopSRBatsmenOppnAllMatches(matches,"Australia")
topSRBatsmenAcrossOversOppnAllMatches(matches,"Australia")
library(yorkr)
topSRBatsmenAcrossOversOppnAllMatches(matches,"Australia")
library(yorkr)
topSRBatsmenAcrossOversOppnAllMatches(matches,"Australia")
topSRBatsmenAcrossOversOppnAllMatches(matches,"England")
library(yorkr)
topWicketsBowlerAcrossOversOppnAllMatches(matches,"England")
topWicketsBowlerAcrossOversOppnAllMatches(matches,"Australia")
library(yorkr)
topERBowlerAcrossOversOppnAllMatches(matches,"England")
topERBowlerAcrossOversOppnAllMatches(matches,"Australia")
t1="England"
# Filter the performance of team1
a <-filter(matches,team!=t1)
# Power play
a1 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 0.1, 5.9))
a2 <- select(a1,team,bowler,date,totalRuns)
a3 <- a2 %>% group_by(bowler) %>% summarise(total=sum(totalRuns),count=n(), ERPowerPlay=total/count *6) %>% filter(count >=50)
a4 <- a3 %>% select(bowler,ERPowerPlay) %>% arrange(ERPowerPlay)
# Filter the performance of team1
a <-filter(matches,team!=t1)
# Power play
a1 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 0.1, 5.9))
a2 <- select(a1,team,bowler,date,totalRuns)
View(a2)
a3 <- a2 %>% group_by(bowler) %>% summarise(total=sum(totalRuns),count=n(), ERPowerPlay=total/count *6) %>% filter(count >=50)
View(a3)
# Middle overs
b1 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 6.1, 15.9))
b2 <- select(b1,team,bowler,date,totalRuns)
b3 <- b2 %>% group_by(bowler) %>% summarise(total=sum(totalRuns),count=n(), ERMiddleOvers=total/count *6) %>% filter(count >=50)
b4 <- b3 %>% select(bowler,ERMiddleOvers) %>% arrange(ERMiddleOvers)
#Death overs
c1 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 16.1, 20.0))
c2 <- select(c1,team,bowler,date,totalRuns)
c3 <- c2 %>% group_by(bowler) %>% summarise(total=sum(totalRuns),count=n(), ERDeathOvers=total/count *6) %>% filter(count >=50)
c4 <- c3 %>% select(bowler,ERDeathOvers) %>% arrange(ERDeathOvers)
View(c4)
View(c2)
c3 <- c2 %>% group_by(bowler) %>% summarise(total=sum(totalRuns),count=n(), ERDeathOvers=total/count *6)
View(c3)
View(c3)
mean(count)
mode(c3$count)
mean(c3$count)
library(yorkr)
topERBowlerAcrossOversOppnAllMatches(matches,"England")
topERBowlerAcrossOversOppnAllMatches(matches,"Australia")
load("/Users/tvganesh/Downloads/gpp2021-8/t20/t20AllMatchesAllTeams/allMatchesAllOpposition-India.RData")
t1="India"
library(yorkr)
topRunsBatsmenAcrossOversAllOppnAllMatches(matches,"India")
library(yorkr)
topSRBatsmenAcrossOversAllOppnAllMatches(matches,"India")
library(yorkr)
load("/Users/tvganesh/Downloads/gpp2021-8/t20/t20AllMatchesAllTeams/allMatchesAllOpposition-India.RData")
library(yorkr)
topWicketsBowlerAcrossOversAllOppnAllMatches(matches,"India")
library(yorkr)
topERBowlerAcrossOversAllOppnAllMatches(matches,"India")
t1="India"
# Filter the performance of team1
a <-filter(matches,team!=t1)
# Power play
a1 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 0.1, 5.9))
a2 <- select(a1,team,bowler,date,totalRuns)
a3 <- a2 %>% group_by(bowler) %>% summarise(total=sum(totalRuns),count=n(), ERPowerPlay=total/count *6)
a4 <- a3 %>% select(bowler,ERPowerPlay) %>% arrange(ERPowerPlay)
View(a2)
View(a2)
View(a3)
median(a3$count)
quantile(a3$count,prob=.75)
a3 <- a2 %>% group_by(bowler) %>% summarise(total=sum(totalRuns),count=n(), ERPowerPlay=total/count *6) %>% filter(count > quantile(count,prob=0.75))
library(yorkr)
topERBowlerAcrossOversAllOppnAllMatches(matches,"India")
View(a3)
View(a2)
library(yorkr)
topERBowlerAcrossOversAllOppnAllMatches(matches,"India")
load("/Users/tvganesh/Downloads/gpp2021-8/t20/t20Matches2Teams/England-South Africa-allMatches.RData")
View(matches)
library(yorkr)
topRunsBatsmenAcrossOversOppnAllMatches(matches,"England")
library(dplyr)
library(ggplot2)
library(stringr)
library(plotly)
topRunsBatsmenAcrossOversOppnAllMatches(matches,"England")
library(yorkr)
topRunsBatsmenAcrossOversOppnAllMatches(matches,"England")
topRunsBatsmenAcrossOversOppnAllMatches(matches,"South Africa")
library(yorkr)
topRunsWicketsAcrossOversOppnAllMatches(matches,"South Africa")
topWicketsBowlersAcrossOversOppnAllMatches(matches,"South Africa")
topWicketsBowlerAcrossOversOppnAllMatches(matches,"South Africa")
topWicketsBowlerAcrossOversOppnAllMatches(matches,"England")
library(yorkr)
setwd("~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-9")
setwd("~/Documents/GitHub/yorkr")
setwd("~/Documents/GitHub/yorkr")
setwd("~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-9")
setwd("~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-9")
shiny::runApp()
shiny::runApp()
install.packages("rlang")
install.packages("rlang")
library(rlanf)
library(rlang)
shiny::runApp()
runApp()
setwd("~/Documents/GitHub/yorkr")
runApp('~/backup/software/cricket-package/yorkr-cricsheet/gpp2021-9')
setwd("..")
system("R CMD build yorkr")
system("R CMD check --as-cran yorkr_0.0.28.tar.gz")
load("/Users/tvganesh/Downloads/gpp2021-8/t20/t20AllMatchesAllTeams/allMatchesAllOpposition-India.RData")
t1='India'
# Filter the performance of team1
a <-filter(matches,team==t1)
# Power play
a1 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 0.1, 5.9))
a2 <- select(a1,team,date,totalRuns)
a3 <- a2 %>% group_by(team,date) %>% summarise(total=sum(totalRuns),count=n())
library(dplyr)
library(ggplot2)
library(stringr)
library(plotly)
# Filter the performance of team1
a <-filter(matches,team==t1)
# Power play
a1 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 0.1, 5.9))
a2 <- select(a1,team,date,totalRuns)
a3 <- a2 %>% group_by(team,date) %>% summarise(total=sum(totalRuns),count=n())
View(a3)
a3$ER=a3$total/a3$count * 6
View(a3)
a4 = a3 %>% select(team,ER) %>% summarise(meanER=mean(ER))
a4$opposition=t2
a4$type="1-Power Play"
# Middle overs I
b1 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 6.1, 15.9))
b2 <- select(b1,team,date,totalRuns)
b3 <- b2 %>% group_by(team,date) %>% summarise(total=sum(totalRuns),count=n())
b3$ER=b3$total/b3$count * 6
b4 = b3 %>% select(team,ER) %>% summarise(meanER=mean(ER))
b4$opposition=t2
b4$type="2-Middle Overs"
##Death overs
c1 <- a %>% filter(between(as.numeric(str_extract(ball, "\\d+(\\.\\d+)?$")), 16.1, 20.0))
c2 <- select(c1,team,date,totalRuns)
c3 <- c2 %>% group_by(team,date) %>% summarise(total=sum(totalRuns),count=n())
c3$ER=c3$total/c3$count * 6
c4 = c3 %>% select(team,ER) %>% summarise(meanER=mean(ER))
c4$opposition=t2
c4$type="3-Death Overs"
m=rbind(a4,b4,c4)
View(m)
library(yorkr)
system("R CMD build yorkr")
system("R CMD check --as-cran yorkr_0.0.28.tar.gz")
library(yorkr)
library(yorkr)
system("R CMD build yorkr")
system("R CMD check --as-cran yorkr_0.0.28.tar.gz")
system("R CMD build yorkr")
system("R CMD check --as-cran yorkr_0.0.28.tar.gz")
system("R CMD build yorkr")
system("R CMD check --as-cran yorkr_0.0.28.tar.gz")
system("R CMD build yorkr")
system("R CMD check --as-cran yorkr_0.0.28.tar.gz")
system("R CMD build yorkr")
system("R CMD check --as-cran yorkr_0.0.28.tar.gz")
system("R CMD build yorkr")
system("R CMD check --as-cran yorkr_0.0.28.tar.gz")
system("R CMD build yorkr")
system("R CMD check --as-cran yorkr_0.0.28.tar.gz")
system("R CMD check --force-multiarch yorkr_0.0.28.tar.gz")
